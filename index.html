<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bolsa de Trabajo</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f4f8;
      color: #333;
    }
    header, footer {
      text-align: center;
      padding: 1rem;
    }
    .contenedor {
      max-width: 900px;
      margin: auto;
      padding: 1rem;
    }
    img.responsive {
      width: 100%;
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    .boton-principal {
      display: inline-block;
      background: linear-gradient(to right, #4a90e2, #007aff);
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1.3rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      margin: 1rem auto;
      text-align: center;
      cursor: pointer;
      text-decoration: none;
    }
    .boton-enviar {
      display: inline-block;
      background: linear-gradient(to right, #4a90e2, #007aff);
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 0.9rem;
      border-radius: 6px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      margin: 1rem auto;
      text-align: center;
      cursor: pointer;
      text-decoration: none;
    }
    .boton-link {
      display: inline-block;
      background: linear-gradient(to right, #4a90e2, #007aff);
      color: white;
      border: none;
      padding: 8px 18px;
      font-size: 0.9rem;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin: 0.5rem auto;
      text-align: center;
      cursor: pointer;
      text-decoration: none;
    }
    h1, h2, h3 {
      text-align: center;
      color: #004080;
    }
    .tarjeta {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 1.5rem;
      margin: 1rem 0;
    }
    .accordion {
      background-color: #0d47a1;
      border: 2px solid #0d47a1;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 10px;
      color: white;
    }
    .accordion-header {
      font-weight: bold;
      cursor: pointer;
    }
    .accordion-content {
      display: none;
      margin-top: 10px;
      background-color: #e3f2fd;
      color: #333;
      padding: 10px;
      border-radius: 8px;
    }
    form input, form select, form textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    .captcha-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .mensaje-exito {
      color: green;
      text-align: center;
      margin: 1rem 0;
    }
    footer {
      font-size: 0.9rem;
      background-color: #e8eaf6;
      padding: 2rem;
      border-top: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://github.com/dajecapo/BOLSADETRABAJO/blob/main/portadabolsa.jpg?raw=true" alt="Portada" class="responsive">
    <img src="https://github.com/dajecapo/BOLSADETRABAJO/blob/main/DIRECCION%20LOGO.jpg?raw=true" alt="Logo Ayuntamiento" class="responsive">
    <h1><a href="https://www.merida.gob.mx/empleo/" class="boton-principal">Bolsa de Trabajo</a></h1>
    <h2>Registro de solicitantes</h2>
  </header>

  <main class="contenedor">
    <section class="tarjeta">
      <h2>Informaci√≥n del Programa</h2>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øCu√°ndo y d√≥nde hay bolsas de trabajo?</div><div class="accordion-content">Haz clic en el bot√≥n de abajo ‚ÄúPr√≥ximos eventos‚Äù.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øD√≥nde se hacen las bolsas de trabajo?</div><div class="accordion-content">En la ficha informativa de ‚ÄúPr√≥ximos eventos‚Äù puedes hallar esa informaci√≥n.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øQu√© empresas ofrecen empleos?</div><div class="accordion-content">Var√≠an en cada evento, pero hay empresas locales y transnacionales.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øC√≥mo me entero cu√°ndo hay las bolsas de trabajo?</div><div class="accordion-content">Estar siempre atento a las publicaciones de la Direcci√≥n de Prosperidad y Bienestar Econ√≥mico en la p√°gina de Facebook, en la del Ayuntamiento o desde los enlaces de aqu√≠.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øQu√© debo llevar para participar?</div><div class="accordion-content">Te recomendamos llevar varias curr√≠culas o solicitudes de empleo (5 o 6 en cada evento).</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øEn qu√© consisten las bolsas de trabajo?</div><div class="accordion-content">Luego de que te registres en este espacio, podr√°s recorrer las mesas instaladas y los representantes de las empresas te entrevistar√°n.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øPuedo adjuntar mi curr√≠culum vitae?</div><div class="accordion-content">S√≠, reg√≠strate primero e inicia sesi√≥n en <a href="https://geoportal.merida.gob.mx/empleo/" target="_blank">https://geoportal.merida.gob.mx/empleo/</a>.</div></div>
      <div class="accordion"><div class="accordion-header" onclick="toggleAccordion(this)">¬øEn cu√°nto tiempo obtendr√© respuesta?</div><div class="accordion-content">Var√≠a seg√∫n el acuerdo con cada empresa.</div></div>
    </section>

    <section class="tarjeta">
      <h2>Formulario de Registro</h2>
      <form id="formulario">
        <input type="text" name="nombre_completo" placeholder="Nombre completo" required>
        <input type="number" name="edad" placeholder="Edad" required>
        <input type="tel" name="telefono" placeholder="Tel√©fono (10 d√≠gitos)" pattern="\d{10}" required>
        <input type="email" name="email" placeholder="Correo electr√≥nico" required>
        <select name="sexo" required>
          <option value="">Selecciona sexo</option>
          <option value="Femenino">Femenino</option>
          <option value="Masculino">Masculino</option>
          <option value="Otro">Otro</option>
        </select>
        <input type="text" name="empleo_requerido" placeholder="Empleo requerido" required>
        <div class="captcha-container">
          <label id="captchaTexto"></label>
          <input type="number" id="captchaRespuesta" placeholder="Resultado" required>
        </div>
        <button class="boton-enviar" type="submit">Enviar registro</button>
        <div class="mensaje-exito" id="mensajeExito"></div>
      </form>
    </section>

    <a class="boton-link" href="https://www.merida.gob.mx/avisoprivacidad/" target="_blank">Aviso de privacidad</a>

    <section class="tarjeta">
      <h3>#Para ciudadanos</h3>
      <a class="boton-link" href="https://www.merida.gob.mx/empleo/" target="_blank">Pr√≥ximos eventos</a>
      <a class="boton-link" href="https://geoportal.merida.gob.mx/empleo/" target="_blank">Encuentra empleo aqu√≠</a>
      <a class="boton-link" href="https://www.google.com.mx/maps/place/DIRECCION+DE+PROSPERIDAD+Y+BIENESTAR+ECON%C3%93MICO/" target="_blank">Ubicaci√≥n de la Direcci√≥n</a>
    </section>

    <section class="tarjeta">
      <h3>##Para empresas</h3>
      <a class="boton-link" href="https://geoportal.merida.gob.mx/empleo/empresa/login" target="_blank">Publica aqu√≠ tus vacantes</a>
    </section>
  </main>

  <footer>
    Derechos reservados Ayuntamiento de M√©rida 2025<br>
    HORARIOS DE ATENCI√ìN: Lunes a viernes de 8:00 a.m. a 3:00 p.m.<br>
    Tel√©fono: (999) 928 69 77 Ext. 81533, 81534
  </footer>

  <script>
    let n1, n2;
    function generarCaptcha() {
      const captchaLabel = document.getElementById("captchaTexto");
      if (!captchaLabel) return;
      n1 = Math.floor(Math.random() * 9) + 1;
      n2 = Math.floor(Math.random() * 9) + 1;
      captchaLabel.innerText = `${n1} + ${n2} =`;
    }

    function toggleAccordion(el) {
      const content = el.nextElementSibling;
      content.style.display = content.style.display === "block" ? "none" : "block";
    }

    document.addEventListener("DOMContentLoaded", () => {
      generarCaptcha();
      const form = document.getElementById("formulario");
      if (!form) return;

      form.addEventListener("submit", function(e) {
        e.preventDefault();
        const respuesta = parseInt(document.getElementById("captchaRespuesta").value);
        if (respuesta !== n1 + n2) {
          alert("Captcha incorrecto. Intenta de nuevo.");
          generarCaptcha();
          return;
        }
        const data = new FormData(this);
        fetch("https://script.google.com/macros/s/AKfycbxeWp0-hpwZT-7ZoTXGH3HgkExrd8R3PF5qakN6tosc1dAgnlwsFgMLbCD5zXXO1u98/exec", {
          method: "POST",
          body: data
        })
        .then(res => res.text())
        .then(res => {
          const msg = document.getElementById("mensajeExito");
          if (res === "OK") {
            msg.textContent = "üëç Gracias, registro exitoso. ‚è≥ Redirigiendo al inicio... üéâ Te contactaremos pronto.";
            form.reset();
            generarCaptcha();
            window.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(() => msg.textContent = "", 5000);
          } else {
            msg.textContent = "Error al enviar. Int√©ntalo m√°s tarde.";
          }
        })
        .catch(error => {
          alert("Error de conexi√≥n: " + error.message);
        });
      });
    });
  </script>
</body>
</html>
